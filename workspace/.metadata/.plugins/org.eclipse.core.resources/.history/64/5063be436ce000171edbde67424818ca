package com.internousdev.travel.action;

import java.sql.SQLException;
import java.util.Map;

import org.apache.struts2.interceptor.SessionAware;

import com.internousdev.travel.dao.BuyItemCompleteDAO;
import com.opensymphony.xwork2.ActionSupport;

public class BuyItemConfirmAction extends ActionSupport implements SessionAware{

	private String country;

	private int item_transaction_id;


	private int price;

	private int count;

	private String payment;


	public Map<String,Object> session;

	private BuyItemCompleteDAO buyItemCompleteDAO=new BuyItemCompleteDAO();




	public String execute() throws SQLException{


		if(payment.equals("1")) {

			payment = "現金払い";
		} else {

			payment = "クレジットカード";

		}


		if(country.equals("japan")){
			country="日本";
			price=count*30000;
		}else if(country.equals("korea")){
			country="韓国";
			price=count*30000;
		}else if(country.equals("aus")){
			country="オーストラリア";
			price=count*50000;
		}else if(country.equals("usa")){
			country="アメリカ";
			price=count*80000;
		}else{
			country="カナダ";
			price=count*70000;
		}







				session.put("item_transaction_id",item_transaction_id);
				session.put("total_price",price);
				session.put("total_count",count);
				session.put("pay",payment);



		String result=SUCCESS;
		return result;
	}

	public String getCountry(){
		return country;
	}

	public void setCountry(String country){
		this.country=country;
	}

	public int getPrice(){
		return price;
	}

	public void setPrice(int price){
		this.price=price;
	}

	public int getCount(){
		return count;
	}

	public void setCount(int count){
		this.count=count;
	}

	public String getPayment(){
		return payment;
	}

	public void setPayment(String payment){
		this.payment=payment;
	}

	public void setSession(Map<String,Object>session){
		this.session=session;
	}

}
